"use strict";(self.webpackChunkollama_gui_reactjs=self.webpackChunkollama_gui_reactjs||[]).push([[665],{904:(n,e,t)=>{t.d(e,{A:()=>s});t(43);var r,o=t(528);const i=t(464).Ay.button(r||(r=(0,o.A)(["\n  background-color: #007aff;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  color: #ffffff;\n  cursor: pointer;\n  display: inline-block;\n  font-weight: 500;\n  padding: 12px 24px;\n  transition: background-color 0.3s, box-shadow 0.3s;\n\n  &:hover {\n    background-color: #005bb5;\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.3);\n    outline: none;\n  }\n\n  &:active {\n    background-color: #004a99;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n"])));var a=t(579);function s(n){let{children:e,onClick:t,style:r}=n;return(0,a.jsx)(i,{onClick:()=>t&&t(),style:r,children:e})}},628:(n,e,t)=>{t.d(e,{so:()=>u,dN:()=>p,Yq:()=>f});var r,o,i=t(43),a=t(852),s=t(528),c=t(464);const l=c.Ay.div(r||(r=(0,s.A)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  min-width: ",";\n  width: 100%;\n"])),(n=>{let{isMobile:e}=n;return e?"100vw":"360px"})),d=c.Ay.div(o||(o=(0,s.A)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  overflow-x: ",";\n  width: 100%;\n"])),(n=>{let{isMobile:e}=n;return e?"auto":"hidden"}));var h=t(579);function u(n){let{children:e,style:t}=n;const r=(0,a.A)();return(0,h.jsx)(l,{isMobile:r,style:t,children:e})}const f=(0,i.forwardRef)(((n,e)=>{let{children:t,style:r}=n;const o=(0,a.A)();return(0,h.jsx)(d,{isMobile:o,ref:e,style:r,children:t})}));function p(n){let{children:e,height:t="100%",textAlign:r="center",width:o="100%"}=n;return(0,h.jsx)("div",{style:{height:t,textAlign:r,width:o},children:e})}},412:(n,e,t)=>{t.d(e,{A:()=>k});var r=t(43),o=t(216),i=t(724),a=t(852),s=t(545),c=t(326);var l,d,h,u,f=t(341),p=t(85),x=t(706),g=t(904),A=t(528),y=t(475),w=t(464);const b=w.Ay.div(l||(l=(0,A.A)(["\n  display: flex;\n  height: fit-content;\n  justify-content: space-between;\n  padding: 8px;\n  width: 100%;\n"]))),j=(0,w.Ay)(y.N_)(d||(d=(0,A.A)(["\n  border-radius: 4px;\n  color: rgba(255,255,255,0.25);\n  cursor: pointer;\n  display: block;\n  margin-bottom: 4px;\n  overflow: hidden;\n  padding: 4px;\n  text-overflow: ellipsis;\n  transition: 0.3s;\n  white-space: nowrap;\n  width: 100%;\n\n  &:hover {\n    background-color: rgba(255,255,255,0.25);\n    box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.2);\n    color: #fff;\n  }\n"]))),v=w.Ay.div(h||(h=(0,A.A)(["\n  height: 100%;\n  overflow-y: auto;\n  padding: 8px;\n  width: 100%;\n"]))),C=w.Ay.div(u||(u=(0,A.A)(["\n  background-color: rgba(0,0,0,0.2);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  min-width: ",";\n"])),(n=>{let{isMobile:e}=n;return e?"100vw":"20%"}));var m=t(579);function k(n){let{loading:e,scrollRef:t}=n;const l=(0,o.Zp)(),d=(0,a.A)(),h=(0,p.RL)("chats"),u=(0,r.useRef)(!1);function A(){if(e)return null;const n=(0,s.A)();return Array.isArray(h[n])?n:null}return(0,r.useEffect)((()=>{u.current&&(u.current=!1,l(i.A.ROOT),c.A.set("chats",h))}),[h]),(0,m.jsxs)(C,{isMobile:d,children:[(0,m.jsxs)(v,{children:[h.map(((n,t)=>{const{content:r}=n[0];return(0,m.jsx)(j,{to:e?"#":"".concat(i.A.CHAT,"/").concat(++t),title:r,children:r},t)})),h.length>0&&(0,m.jsx)(j,{to:e?"#":"".concat(i.A.CHAT,"/").concat(h.length+1),title:"Create a new chat",style:{textAlign:"center"},children:"+"},"createChat")]}),(0,m.jsxs)(b,{children:[(0,m.jsx)(g.A,{style:{padding:"6px",paddingBottom:"3px"},onClick:()=>!e&&l(i.A.CONFIG),children:(0,m.jsxs)("svg",{width:"16px",height:"16px",viewBox:"0 0 32 32",fill:"#fff",stroke:"#fff",children:[(0,m.jsx)("g",{id:"SVGRepo_bgCarrier"}),(0,m.jsx)("g",{id:"SVGRepo_tracerCarrier"}),(0,m.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[(0,m.jsx)("title",{children:"Configurations"}),(0,m.jsx)("path",{d:"M23.265,24.381l.9-.894c4.164.136,4.228-.01,4.411-.438l1.144-2.785L29.805,20l-.093-.231c-.049-.122-.2-.486-2.8-2.965V15.5c3-2.89,2.936-3.038,2.765-3.461L28.538,9.225c-.171-.422-.236-.587-4.37-.474l-.9-.93a20.166,20.166,0,0,0-.141-4.106l-.116-.263-2.974-1.3c-.438-.2-.592-.272-3.4,2.786l-1.262-.019c-2.891-3.086-3.028-3.03-3.461-2.855L9.149,3.182c-.433.175-.586.237-.418,4.437l-.893.89c-4.162-.136-4.226.012-4.407.438L2.285,11.733,2.195,12l.094.232c.049.12.194.48,2.8,2.962l0,1.3c-3,2.89-2.935,3.038-2.763,3.462l1.138,2.817c.174.431.236.584,4.369.476l.9.935a20.243,20.243,0,0,0,.137,4.1l.116.265,2.993,1.308c.435.182.586.247,3.386-2.8l1.262.016c2.895,3.09,3.043,3.03,3.466,2.859l2.759-1.115C23.288,28.644,23.44,28.583,23.265,24.381ZM11.407,17.857a4.957,4.957,0,1,1,6.488,2.824A5.014,5.014,0,0,1,11.407,17.857Z"})]})]})}),(0,m.jsx)(g.A,{style:{padding:"6px",paddingBottom:"3px"},onClick:function(){const n=A();if(null===n)return;confirm("Are you sure you want to delete?")&&(u.current=!0,(0,p.ST)((0,x._e)(n)))},children:(0,m.jsxs)("svg",{fill:"#fff",width:"16px",height:"16px",viewBox:"0 0 24 24",children:[(0,m.jsx)("g",{id:"SVGRepo_bgCarrier"}),(0,m.jsx)("g",{id:"SVGRepo_tracerCarrier"}),(0,m.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[(0,m.jsx)("title",{children:"Delete Chat"}),(0,m.jsx)("path",{d:"M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z"})]})]})}),(0,m.jsx)(g.A,{style:{padding:"6px",paddingBottom:"3px"},onClick:function(){const n=A();null!==n&&function(n,e){const t=c.A.get("chats")||[];Array.isArray(t[n])?t[n].push(...e):t[n]=e,c.A.set("chats",t)}(n,h[n])},children:(0,m.jsxs)("svg",{width:"16px",height:"16px",viewBox:"0 0 32 32",fill:"#fff",children:[(0,m.jsx)("g",{id:"SVGRepo_bgCarrier"}),(0,m.jsx)("g",{id:"SVGRepo_tracerCarrier"}),(0,m.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[" ",(0,m.jsx)("title",{children:"Save Chat"})," ",(0,m.jsx)("desc",{children:"Created with Sketch Beta."})," ",(0,m.jsx)("defs",{children:" "})," ",(0,m.jsxs)("g",{id:"Page-1",stroke:"none",fill:"none",children:[" ",(0,m.jsxs)("g",{id:"Icon-Set-Filled",transform:"translate(-154.000000, -517.000000)",fill:"#fff",children:[" ",(0,m.jsx)("path",{d:"M172,522 C172,521.447 172.448,521 173,521 C173.552,521 174,521.447 174,522 L174,526 C174,526.553 173.552,527 173,527 C172.448,527 172,526.553 172,526 L172,522 L172,522 Z M163,529 L177,529 C177.552,529 178,528.553 178,528 L178,517 L162,517 L162,528 C162,528.553 162.448,529 163,529 L163,529 Z M182,517 L180,517 L180,529 C180,530.104 179.104,531 178,531 L162,531 C160.896,531 160,530.104 160,529 L160,517 L158,517 C155.791,517 154,518.791 154,521 L154,545 C154,547.209 155.791,549 158,549 L182,549 C184.209,549 186,547.209 186,545 L186,521 C186,518.791 184.209,517 182,517 L182,517 Z",id:"save-floppy",children:" "})," "]})," "]})," "]})]})}),d&&(0,m.jsx)(g.A,{onClick:()=>(0,f.A)(t,1),style:{padding:"6px",paddingBottom:"3px"},children:(0,m.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 14",children:(0,m.jsx)("path",{fill:"#fff",d:"m15.1 6.2q0.2 0.2 0.2 0.4 0.1 0.2 0.1 0.4 0 0.2-0.1 0.4 0 0.2-0.2 0.4l-5.1 5.2c-0.3 0.2-0.6 0.3-0.9 0.3-0.2 0-0.5-0.2-0.7-0.4-0.3-0.2-0.4-0.5-0.4-0.8 0-0.3 0.1-0.5 0.3-0.8l3.2-3.2h-9.8c-0.3 0-0.6-0.1-0.8-0.3-0.2-0.2-0.3-0.5-0.3-0.8 0-0.3 0.1-0.6 0.3-0.8 0.2-0.2 0.5-0.3 0.8-0.3h9.8l-3.2-3.2c-0.2-0.2-0.3-0.5-0.3-0.8 0-0.4 0.1-0.7 0.3-0.9 0.2-0.2 0.5-0.3 0.8-0.3 0.3 0 0.6 0.1 0.9 0.3z"})})})]})]})}},852:(n,e,t)=>{t.d(e,{A:()=>o});var r=t(43);function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;const[e,t]=(0,r.useState)(window.innerWidth<=n);return(0,r.useEffect)((()=>{const e=()=>{t(window.innerWidth<=n)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[n]),e}},665:(n,e,t)=>{t.r(e),t.d(e,{default:()=>O});var r,o=t(43),i=t(216),a=t(724),s=t(341),c=t(326),l=t(102),d=t(695),h=t(904),u=t(628),f=t(528),p=t(464);const x=p.Ay.footer(r||(r=(0,f.A)(["\n  align-items: center;\n  background-color: rgba(0,0,0,0.2);\n  display: flex;\n  justify-content: flex-end;\n  padding: 8px;\n  width: 100%;\n"])));var g=t(579);function A(){return(0,g.jsxs)(x,{children:[(0,g.jsx)("span",{children:"\xa0\u2022\xa0"}),(0,g.jsx)("a",{href:"https://github.com/kastorcode",target:"_blank",title:"Powered by KastorCode",children:"kastorcode"}),(0,g.jsx)("span",{children:"\xa0\u2022\xa0"}),(0,g.jsx)("a",{href:"https://ollama.com/library/llama3",target:"_blank",title:"Get Llama 3 LLM",children:"ollama"}),(0,g.jsx)("span",{children:"\xa0\u2022\xa0"})]})}var y,w=t(412);const b=p.Ay.input(y||(y=(0,f.A)(["\n  background-color: rgba(255,255,255,0.25);\n  border: 1px solid #dcdcdc;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  color: #fff;\n  margin-right: 8px;\n  outline: none;\n  overflow-y: hidden;\n  padding: 12px 16px;\n  resize: none;\n  transition: border-color 0.3s, box-shadow 0.3s;\n  width: 100%;\n\n  &:focus {\n    border-color: #007aff;\n    box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.2);\n  }\n"]))),j=(0,o.forwardRef)(((n,e)=>(0,g.jsx)(b,{...n,ref:e,type:"text"})));var v,C,m,k,S;const L=p.Ay.span(v||(v=(0,f.A)(["\n  background-color: white;\n  border-radius: 50%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  height: 26px;\n  left: 4px;\n  position: absolute;\n  top: 4px;\n  transform: translateX(",");\n  transition: transform 0.3s ease;\n  width: 26px;\n"])),(n=>{let{checked:e}=n;return e?"26px":"0"})),_=p.Ay.input(C||(C=(0,f.A)(["\n  display: none;\n"]))),E=p.Ay.div(m||(m=(0,f.A)(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]))),R=p.Ay.label(k||(k=(0,f.A)(["\n  background-color: ",";\n  border-radius: 34px;\n  cursor: pointer;\n  display: block;\n  height: 100%;\n  position: relative;\n  transition: background-color 0.3s ease;\n  width: 100%;\n\n  &:before {\n    background-color: #f0f0f5;\n    border-radius: inherit;\n    content: '';\n    height: 100%;\n    left: 50%;\n    position: absolute;\n    top: 50%;\n    transform: translate(-50%, -50%) scale(",");\n    transition: transform 0.3s ease;\n    width: 100%;\n  }\n"])),(n=>{let{checked:e}=n;return e?"#007aff":"#ccc"}),(n=>{let{checked:e}=n;return e?0:1.1})),T=p.Ay.div(S||(S=(0,f.A)(["\n  height: 34px;\n  position: relative;\n  width: 60px;\n"])));function G(n){let{checked:e,id:t,label:r,onChange:o}=n;return(0,g.jsxs)(E,{children:[(0,g.jsx)("span",{children:r}),(0,g.jsxs)(T,{children:[(0,g.jsx)(_,{id:t,type:"checkbox",checked:e,onChange:o}),(0,g.jsx)(R,{htmlFor:t,checked:e,children:(0,g.jsx)(L,{checked:e})})]})]})}var N;const M=p.Ay.div(N||(N=(0,f.A)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"])));function O(){const n=(0,o.useRef)({height:"24px"}),e=(0,o.useRef)(0),t=(0,o.useRef)(null),r=(0,l.UK)("config"),[f,p]=(0,o.useState)(r.modelName),[x,y]=(0,o.useState)(r.modelUrl),b=(0,i.Zp)();return(0,o.useEffect)((()=>{(0,s.A)(t,1)}),[]),(0,o.useEffect)((()=>{e.current++,e.current<3||c.A.set("config",r)}),[r]),(0,g.jsxs)(u.Yq,{ref:t,children:[(0,g.jsx)(w.A,{scrollRef:t}),(0,g.jsxs)(u.so,{children:[(0,g.jsx)(u.dN,{}),(0,g.jsxs)(u.dN,{height:"auto",width:"88%",children:[(0,g.jsx)(G,{checked:r.autoSaveChats,id:"autoSaveChats",label:"Save all chats",onChange:()=>(0,l.hm)((0,d.c)())}),(0,g.jsx)(u.dN,{height:n.current.height}),(0,g.jsx)(j,{placeholder:"Model URL",value:x,onChange:n=>y(n.target.value)}),(0,g.jsx)(u.dN,{height:n.current.height}),(0,g.jsx)(j,{placeholder:"Model Name",value:f,onChange:n=>p(n.target.value)}),(0,g.jsx)(u.dN,{height:n.current.height}),(0,g.jsxs)(M,{children:[(0,g.jsx)(h.A,{onClick:function(){confirm("Are you sure you want to delete everything?\nThis cannot be undone.")&&(c.A.clear(),b(a.A.ROOT),window.location.reload())},children:"Clear all"}),(0,g.jsx)(h.A,{onClick:()=>b(a.A.GO_BACK),children:"Chat"}),(0,g.jsx)(h.A,{onClick:function(){(0,l.hm)((0,d._)({...r,modelName:f,modelUrl:x}))},children:"Save"})]})]}),(0,g.jsx)(u.dN,{}),(0,g.jsx)(A,{})]})]})}},545:(n,e,t)=>{function r(){const n=window.location.href.split("/chat/")[1];if(!n)return 0;const e=parseInt(n);return isNaN(e)||e<1?0:e-1}t.d(e,{A:()=>r})},341:(n,e,t)=>{function r(n,e){var t;const r=[0,document.documentElement.scrollWidth];null===(t=n.current)||void 0===t||t.scrollTo({behavior:"smooth",left:r[e]})}t.d(e,{A:()=>r})},326:(n,e,t)=>{t.d(e,{A:()=>o});const r={chats:!0,config:!0};class o{static clear(){localStorage.clear()}static get(n){if(!r[n])throw new Error("Key not allowed: ".concat(n));const e=localStorage.getItem(n);return e?JSON.parse(e):null}static set(n,e){if(!r[n])throw new Error("Key not allowed: ".concat(n));localStorage.setItem(n,JSON.stringify(e))}}},706:(n,e,t)=>{function r(n){return{type:"ADD_MESSAGE",payload:n}}function o(n){return{type:"DELETE_CHAT",payload:n}}function i(n){return{type:"LOAD_CHATS",payload:n}}t.d(e,{_e:()=>o,qg:()=>i,tj:()=>r})},85:(n,e,t)=>{t.d(e,{ST:()=>o,RL:()=>i});var r=t(957);const{dispatch:o,useStoreState:i}=(0,r.y)((function(n,e){switch(e.type){case"ADD_MESSAGE":{const{index:t,message:r}=e.payload;return Array.isArray(n.chats[t])?n.chats[t].push(r):n.chats[t]=[r],{chats:[...n.chats]}}case"DELETE_CHAT":return Array.isArray(n.chats[e.payload])?(n.chats.splice(e.payload,1),{chats:[...n.chats]}):n;case"LOAD_CHATS":return{chats:[...e.payload]};default:return n}}),{chats:[]})},695:(n,e,t)=>{function r(){return{type:"TOGGLE_AUTO_SAVE_CHATS"}}function o(n){return{type:"UPDATE_CONFIG",payload:n}}t.d(e,{_:()=>o,c:()=>r})},102:(n,e,t)=>{t.d(e,{hm:()=>o,UK:()=>i});var r=t(957);const{dispatch:o,useStoreState:i}=(0,r.y)((function(n,e){switch(e.type){case"TOGGLE_AUTO_SAVE_CHATS":return{config:{...n.config,autoSaveChats:!n.config.autoSaveChats}};case"UPDATE_CONFIG":return{config:{...e.payload}};default:return n}}),{config:{autoSaveChats:!1,modelName:"llama3",modelUrl:"http://localhost:11434/api/chat"}})}}]);
//# sourceMappingURL=665.8c57a640.chunk.js.map